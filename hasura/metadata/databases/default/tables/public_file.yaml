table:
  name: file
  schema: public
remote_relationships:
  - definition:
      hasura_fields:
        - s3_file_name
        - file_name
      remote_field:
        getFile:
          arguments:
            file_name: $file_name
            s3_file_name: $s3_file_name
      remote_schema: s3
    name: s3
event_triggers:
  - name: delete_file
    definition:
      delete:
        columns: '*'
      enable_manual: false
    retry_conf:
      interval_sec: 10
      num_retries: 5
      timeout_sec: 60
    webhook: '{{BACKEND_BASE_URL}}/remove'
